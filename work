CREATE TABLE [icv].[value_type](
	[id] int NOT NULL,
	[name] varchar(20) NOT NULL,
	[description] varchar(250) NULL
 CONSTRAINT [PK_icv_value_types] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

INSERT INTO [icv].[value_type] ([id], [name], [description])
VALUES (0, 'CumulatedAmount', 'Montant cumulé des opérations'), (1, 'CumulatedNumberOfOperations', 'Nombre cumulé d''opérations')


CREATE TABLE [icv].[duration_type](
	[id] [int] NOT NULL,
	[name] varchar(20) NOT NULL,
	[description] varchar(250) NULL
 CONSTRAINT [PK_icv_duration_type] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

INSERT INTO [icv].[duration_type] ([id], [name], [description])
VALUES (0, 'Unitary', 'Unitaire'), (1, 'Day', 'Journalier'), (2, 'Week', 'Hebdomadaire'), (3, 'Month', 'Mensuel'), (4, 'Year', 'Annuel'), (5, 'Unlimited', 'Illimité')


CREATE TABLE [icv].[operation_type](
	[id] [int] NOT NULL,
	[name] varchar(20) NOT NULL,
	[description] varchar(250) NULL
 CONSTRAINT [PK_icv_operation_type] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

INSERT INTO [icv].[operation_type] ([id], [name], [description])
VALUES (0, 'Balance', 'Soldes totaux'),
	   (1, 'Payin', 'Prélèvements d''échéances sur les débiteurs'),
	   (2, 'Remittance', 'Remises créanciers par virement'),
	   (3, 'UnpaidPayin', 'Impayés sur les prélèvements débiteurs'),
	   (4, 'PayinDebt', 'Prélèvements d''impayés sur les créanciers'),
	   (5, 'UnpaidPayinDebt', 'Impayés sur les prélèvements créanciers de régules d''impayés'),
	   (6, 'Billing', 'Prélèvements de facturation'),
	   (7, 'UnpaidBilling', 'Impayés sur les prélèvements de la facturation')


CREATE TABLE [icv].[current_cumulated_value](
	[id] bigint IDENTITY(1,1) NOT NULL,
	[current_value] decimal(18, 2) NOT NULL,
	[value_type_id] tinyint NOT NULL,
	[duration_type_id] tinyint NOT NULL,
	[operation_type_id] tinyint NOT NULL,
	[structure_id] int NOT NULL,
	[bank_account_id] int NOT NULL,
 CONSTRAINT [PK_current_cumulated_value] PRIMARY KEY CLUSTERED 
 (
	[id] ASC
 )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
